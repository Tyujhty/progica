{% extends 'base.html.twig' %}

{% block title %}Hello ProfileController!{% endblock %}

{% block body %}
    <div class="flex flex-wrap justify-end w-full lg:w-9/12 max-w-screen-2xl mt-24 lg:mt-32 h-full mx-auto mb-10">
    
        {% include "profile/_sidebar.html.twig" %}
        
        <div class="w-full px-6 lg:w-9/12">
            <h1 class="text-txtBlueDark text-center lg:text-left text-2xl lg:text-3xl mb-10 mt-8 lg:mt-0">Bonjour, je suis {{ user.firstname }} {{ user.lastname}} </h1>
            <div class="mb-14">
                <h2 class="text-xl font-medium text-txtGray mb-4">A propos</h2>
                <div class="flex flex-col items-end text-justify whitespace-pre-line text-txtGray">
                    {{ user.description ? 
                    '<button class="mb-2 text-txtBlueDark text-lg editDesc"><i class="fa-solid fa-pen-to-square mr-2"></i>Modifier</button>' :  
                    '<button class="mb-2 text-txtBlueDark text-lg editDesc"><i class="fa-solid fa-pen-to-square mr-2"></i>Ajouter</button>' }}

                    <form action="" method ='POST' class="w-full hidden editFormRow">                    
                        {{ form_row(editFormProfile.description, {
                             'attr': {
                                'class': 'w-full rounded resize-none',
                                'rows' : 10,
                                }
                        }) }}
                        {{ form_widget(editFormProfile._token) }}

                        <button class='btn btn-secondary relative -top-10'>Sauvegarder</button>
                    </form>
                    
                    <p class='userDescContainer'> {{ user.description }} </p>
                </div>
            </div>
            <div class="flex flex-col">
                <h2 class="text-xl font-medium text-txtGray mb-4">GÃ®tes de {{ user.firstname }}</h2>
                <div class="flex flex-wrap justify-around">
                    {% for shelter in shelters %}
                        {% include "/profile/_shelterCardProfile.html.twig" %}
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
{% endblock %}
